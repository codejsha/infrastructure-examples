broker.id=1
# broker.rack=

listeners=INTERNAL://:9091,BROKER://:9093,CONTROLLER://:9094,EXTERNAL://:9092
advertised.listeners=INTERNAL://kafka3:9091,BROKER://kafka3:9093,CONTROLLER://kafka3:9094,EXTERNAL://kafka3:9092
listener.security.protocol.map=INTERNAL:SASL_SSL,BROKER:SASL_SSL,CONTROLLER:SASL_SSL,EXTERNAL:SASL_SSL
inter.broker.listener.name=BROKER
control.plane.listener.name=CONTROLLER

sasl.mechanism.inter.broker.protocol=SCRAM-SHA-512
sasl.enabled.mechanisms=SCRAM-SHA-512
listener.name.internal.sasl.enabled.mechanisms=SCRAM-SHA-512
listener.name.internal.scram-sha-512.sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username="kafka" password="kafka-secret";
listener.name.internal.ssl.key.password=changeit
listener.name.internal.ssl.keystore.location=/var/ssl/private/kafka_broker.keystore.jks
listener.name.internal.ssl.keystore.password=changeit
listener.name.internal.ssl.truststore.location=/var/ssl/private/kafka_broker.truststore.jks
listener.name.internal.ssl.truststore.password=changeit
listener.name.broker.sasl.enabled.mechanisms=SCRAM-SHA-512
listener.name.broker.scram-sha-512.sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username="kafka" password="kafka-secret";
listener.name.broker.ssl.key.password=changeit
listener.name.broker.ssl.keystore.location=/var/ssl/private/kafka_broker.keystore.jks
listener.name.broker.ssl.keystore.password=changeit
listener.name.broker.ssl.truststore.location=/var/ssl/private/kafka_broker.truststore.jks
listener.name.broker.ssl.truststore.password=changeit
listener.name.controller.sasl.enabled.mechanisms=SCRAM-SHA-512
listener.name.controller.scram-sha-512.sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username="kafka" password="kafka-secret";
listener.name.controller.ssl.key.password=changeit
listener.name.controller.ssl.keystore.location=/var/ssl/private/kafka_broker.keystore.jks
listener.name.controller.ssl.keystore.password=changeit
listener.name.controller.ssl.truststore.location=/var/ssl/private/kafka_broker.truststore.jks
listener.name.controller.ssl.truststore.password=changeit
listener.name.external.sasl.enabled.mechanisms=SCRAM-SHA-512
listener.name.external.scram-sha-512.sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username="kafka" password="kafka-secret";
listener.name.external.ssl.key.password=changeit
listener.name.external.ssl.keystore.location=/var/ssl/private/kafka_broker.keystore.jks
listener.name.external.ssl.keystore.password=changeit
listener.name.external.ssl.truststore.location=/var/ssl/private/kafka_broker.truststore.jks
listener.name.external.ssl.truststore.password=changeit

confluent.http.server.listeners=https://0.0.0.0:8090
confluent.http.server.advertised.listeners=https://kafka3:8090
confluent.http.server.ssl.key.password=changeit
confluent.http.server.ssl.keystore.location=/var/ssl/private/kafka_broker.keystore.jks
confluent.http.server.ssl.keystore.password=changeit
confluent.http.server.ssl.truststore.location=/var/ssl/private/kafka_broker.truststore.jks
confluent.http.server.ssl.truststore.password=changeit

kafka.rest.enable=true
kafka.rest.bootstrap.servers=kafka1:9091,kafka2:9091,kafka3:9091
kafka.rest.client.security.protocol=SASL_SSL
kafka.rest.client.sasl.mechanism=SCRAM-SHA-512
kafka.rest.client.sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username="kafka" password="kafka-secret";
kafka.rest.client.ssl.truststore.location=/var/ssl/private/kafka_broker.truststore.jks
kafka.rest.client.ssl.truststore.password=changeit

metric.reporters=io.confluent.metrics.reporter.ConfluentMetricsReporter
confluent.metrics.reporter.bootstrap.servers=kafka1:9093,kafka2:9093,kafka3:9093
confluent.metrics.reporter.security.protocol=SASL_SSL
confluent.metrics.reporter.sasl.mechanism=SCRAM-SHA-512
confluent.metrics.reporter.sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username="kafka" password="kafka-secret";
confluent.metrics.reporter.ssl.truststore.location=/var/ssl/private/kafka_broker.truststore.jks
confluent.metrics.reporter.ssl.truststore.password=changeit
confluent.metrics.reporter.topic.replicas=3
confluent.support.metrics.enable=true
confluent.support.customer.id=anonymous

zookeeper.connect=zookeeper1:2182,zookeeper2:2182,zookeeper3:2182
zookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty
zookeeper.ssl.client.enable=true
zookeeper.ssl.truststore.location=/var/ssl/private/kafka_broker.truststore.jks
zookeeper.ssl.truststore.password=changeit
zookeeper.connection.timeout.ms=18000

confluent.schema.registry.url=https://schema-registry1:8081,https://schema-registry2:8081
confluent.ssl.key.password=changeit
confluent.ssl.keystore.location=/var/ssl/private/kafka_broker.keystore.jks
confluent.ssl.keystore.password=changeit
confluent.ssl.truststore.location=/var/ssl/private/kafka_broker.truststore.jks
confluent.ssl.truststore.password=changeit

log.dirs=/mnt/kafka/data
log.retention.hours=168
# log.retention.minutes=10080
# log.retention.bytes=1073741824
log.retention.check.interval.ms=300000
log.segment.bytes=1073741824
log.cleanup.policy=delete
# log.cleaner.enable=true
# log.cleaner.threads=1

num.io.threads=16
num.network.threads=8
num.partitions=3
num.recovery.threads.per.data.dir=2

socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600
socket.send.buffer.bytes=102400

default.replication.factor=3
min.insync.replicas=2
replica.lag.time.max.ms=30000
unclean.leader.election.enable=false

confluent.ansible.managed=true
auto.create.topics.enable=false
group.initial.rebalance.delay.ms=3000
offsets.topic.replication.factor=3
transaction.state.log.min.isr=2
transaction.state.log.replication.factor=3

confluent.balancer.enable=true
confluent.balancer.heal.uneven.load.trigger=EMPTY_BROKER
confluent.balancer.disk.max.load=0.85
confluent.balancer.topic.replication.factor=3

confluent.metadata.topic.replication.factor=3
confluent.security.event.logger.exporter.kafka.topic.replicas=3

confluent.tier.enable=false
# confluent.tier.feature=true
# confluent.tier.backend=S3
# confluent.tier.s3.region=ap-northeast-2
# confluent.tier.s3.bucket=kafka-tiered-storage
# confluent.tier.s3.aws.endpoint.override=
# confluent.tier.s3.cred.file.path=/opt/confluent/aws/credentials
# confluent.tier.s3.sse.algorithm=none
# confluent.tier.metadata.replication.factor=3
# confluent.tier.local.hotset.ms=3600000
# confluent.tier.local.hotset.bytes=1073741824

confluent.license.topic=_confluent-license
confluent.license.topic.replication.factor=3
