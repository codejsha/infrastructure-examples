### example

Listen 80

<Directory "/var/www/html">
    Options None
    AllowOverride None
    Require all granted
</Directory>

<VirtualHost *:80>
    DocumentRoot "/var/www/html"
    ServerName test1.example.com
    ServerAlias www.test1.example.com
    ErrorLog  "|bin/rotatelogs /var/log/httpd/test1_error_log-%Y%m%d.log 86400" common

    RewriteEngine on
    RewriteCond %{HTTPS} off
    # RewriteCond %{HTTPS} !=on
    RewriteRule ^/?(.*) https://%{HTTP_HOST}%{REQUEST_URI} [R,L]
</VirtualHost>

<VirtualHost *:80>
    DocumentRoot "/var/www/html"
    ServerName test2.example.com
    ErrorLog  "|bin/rotatelogs /var/log/httpd/test2_error_log-%Y%m%d.log 86400" common

    RewriteEngine on
    RewriteCond %{HTTPS} off
    # RewriteCond %{HTTPS} !=on
    RewriteRule ^/?(.*) https://%{SERVER_NAME}:8443%{REQUEST_URI} [R,L]
</VirtualHost>
