### https://httpd.apache.org/docs/current/ssl/ssl_howto.html
### https://httpd.apache.org/docs/current/ssl/ssl_intro.html
### https://httpd.apache.org/docs/current/ssl/ssl_faq.html

######################################################################

### modules
LoadModule log_config_module modules/mod_log_config.so
LoadModule setenvif_module modules/mod_setenvif.so
LoadModule ssl_module modules/mod_ssl.so
LoadModule socache_shmcb_module modules/mod_socache_shmcb.so

######################################################################

### virtual host

<VirtualHost _default_:443>

DocumentRoot "/var/www/html"
ServerName www.example.com:443
ServerAdmin you@example.com
ErrorLog "/var/log/httpd/logs/ssl_error_log"
TransferLog "/var/log/httpd/logs/ssl_access_log"

SSLEngine on
SSLCertificateFile "/usr/local/httpd/conf/server.crt"
SSLCertificateKeyFile "/usr/local/httpd/conf/server.key"
SSLCACertificateFile "/usr/local/httpd/conf/ca.crt"

<FilesMatch "\.(cgi|shtml|phtml|php)$">
    SSLOptions +StdEnvVars
</FilesMatch>
<Directory "/svc/websvr/httpd/cgi-bin">
    SSLOptions +StdEnvVars
</Directory>

BrowserMatch "MSIE [2-5]" \
         nokeepalive ssl-unclean-shutdown \
         downgrade-1.0 force-response-1.0

CustomLog "/var/log/httpd/logs/ssl_request_log" \
          "%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"

</VirtualHost>
