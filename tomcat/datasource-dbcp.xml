<!-- ###################################################################### -->

<!-- PostgreSQL -->

<!-- Shared resource -->
<GlobalNamingResources>
    <Resource name="jdbc/postgres"
              auth="Container"
              type="javax.sql.DataSource"
              driverClassName="org.postgresql.Driver"
              url="jdbc:postgresql://127.0.0.1:5432/mydb"
              username="myuser"
              password="mypasswd"
              maxTotal="20"
              maxIdle="10"
              maxWaitMillis="-1" 
              removeAbandonedOnBorrow="true"
              removeAbandonedOnMaintenance="true"
              removeAbandonedTimeout="300"
              logAbandoned="true"
              />
</GlobalNamingResources>

<!-- Application-specific resource -->
<Context>
    <Resource name="jdbc/postgres"
              auth="Container"
              type="javax.sql.DataSource"
              driverClassName="org.postgresql.Driver"
              url="jdbc:postgresql://127.0.0.1:5432/mydb"
              username="myuser"
              password="mypasswd"
              maxTotal="20"
              maxIdle="10"
              maxWaitMillis="-1"
              removeAbandonedOnBorrow="true"
              removeAbandonedOnMaintenance="true"
              removeAbandonedTimeout="300"
              logAbandoned="true" />
</Context>

<!-- web.xml -->
<resource-ref>
    <description>postgreSQL Datasource example</description>
    <res-ref-name>jdbc/postgres</res-ref-name>
    <res-type>javax.sql.DataSource</res-type>
    <res-auth>Container</res-auth>
</resource-ref>
