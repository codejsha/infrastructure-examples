### base
base:
  user: confluent
  confluentHome: /usr/local/confluent
  javaHome: /usr/lib/jvm/java-1.8.0
  propertiesPath: ${CONFLUENT_HOME}/properties
  scriptsPath: ${CONFLUENT_HOME}/scripts

######################################################################

### zookeeper
zookeeper:
  common:
    stopScript:
      file:
        stop: stop-zookeeper.sh
    param:
      dataDir: /mnt/zookeeper/data
      logDir: /mnt/zookeeper/logs

  servers:
    - {% set name = "zookeeper1" %}
      ipAddress: 10.10.10.11
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      serverId: 1
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

    - {% set name = "zookeeper2" %}
      ipAddress: 10.10.10.12
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      serverId: 2
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

    - {% set name = "zookeeper3" %}
      ipAddress: 10.10.10.13
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      serverId: 3
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

######################################################################

### kafka
kafka:
  common:
    stopScript:
      file:
        stop: stop-kafka.sh
    param:
      dataDir: /mnt/kafka/data
      logDir: /mnt/kafka/logs
      zookeeperConnect: zookeeper1:2181,zookeeper2:2181,zookeeper3:2181/testcluster
      metricsReporterBootstrapServers: kafka1:9092,kafka2:9092,kafka3:9092

  servers:
    - {% set name = "kafka1" %}
      ipAddress: 10.10.10.21
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      serverId: 1
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

    - {% set name = "kafka2" %}
      ipAddress: 10.10.10.22
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      serverId: 2
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

    - {% set name = "kafka3" %}
      ipAddress: 10.10.10.23
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      serverId: 3
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

######################################################################

### schema-registry
schemaRegistry:
  common:
    stopScript:
      file:
        stop: stop-schema-registry.sh
    param:
      logDir: /mnt/schema-registry/logs
      bootstrapServers: PLAINTEXT://kafka1:9092,PLAINTEXT://kafka2:9092,PLAINTEXT://kafka3:9092

  servers:
    - {% set name = "schema-registry1" %}
      ipAddress: 10.10.10.31
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

    - {% set name = "schema-registry2" %}
      ipAddress: 10.10.10.32
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

######################################################################

### kafka-connect
kafkaConnect:
  common:
    stopScript:
      file:
        stop: stop-kafka-connect.sh
    param:
      logDir: /mnt/kafka-connect/logs
      groupId: connect-cluster
      bootstrapServers: PLAINTEXT://kafka1:9092,PLAINTEXT://kafka2:9092,PLAINTEXT://kafka3:9092
      keyConverterSchemaRegistryUrl: http://schema-registry1:8081,http://schema-registry2:8081
      valueConverterSchemaRegistryUrl: http://schema-registry1:8081,http://schema-registry2:8081
      configStorageTopic: connect-configs
      offsetStorageTopic: connect-offsets
      statusStorageTopic: connect-statuses
      pluginPath: /usr/local/confluent/share/java,/usr/local/confluent/share/confluent-hub-components

  servers:
    - {% set name = "kafka-connect1" %}
      ipAddress: 10.10.10.41
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

    - {% set name = "kafka-connect2" %}
      ipAddress: 10.10.10.42
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

######################################################################

### replicator
replicator:
  common:
    stopScript:
      file:
        stop: stop-replicator.sh
    param:
      logDir: /mnt/replicator/logs
      groupId: connect-cluster
      bootstrapServers: PLAINTEXT://kafka1:9092,PLAINTEXT://kafka2:9092,PLAINTEXT://kafka3:9092
      keyConverterSchemaRegistryUrl: http://schema-registry1:8081,http://schema-registry2:8081
      valueConverterSchemaRegistryUrl: http://schema-registry1:8081,http://schema-registry2:8081
      configStorageTopic: connect-configs
      offsetStorageTopic: connect-offsets
      statusStorageTopic: connect-statuses
      pluginPath: /usr/local/confluent/share/java,/usr/local/confluent/share/confluent-hub-components

  servers:
    - {% set name = "replicator1" %}
      ipAddress: 10.10.10.61
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

######################################################################

### kafka-rest
kafkaRest:
  common:
    stopScript:
      file:
        stop: stop-kafka-rest.sh
    param:
      logDir: /mnt/kafka-rest/logs
      bootstrapServers: PLAINTEXT://kafka1:9092,PLAINTEXT://kafka2:9092,PLAINTEXT://kafka3:9092
      schemaRegistryUrl: http://schema-registry1:8081,http://schema-registry2:8081

  servers:
    - {% set name = "kafka-rest1" %}
      ipAddress: 10.10.10.51
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      serverId: 1
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

    - {% set name = "kafka-rest2" %}
      ipAddress: 10.10.10.52
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      serverId: 2
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

######################################################################

### ksqldb
ksqlDB:
  common:
    stopScript:
      file:
        stop: stop-ksqldb.sh
    param:
      dataDir: /mnt/ksqldb/data
      logDir: /mnt/ksqldb/logs
      groupId: ksql-cluster
      bootstrapServers: kafka1:9092,kafka2:9092,kafka3:9092
      schemaRegistryUrl: http://schema-registry1:8081,http://schema-registry2:8081

  servers:
    - {% set name = "kafka-ksqldb1" %}
      ipAddress: 10.10.10.71
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

    - {% set name = "kafka-ksqldb2" %}
      ipAddress: 10.10.10.72
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

    - {% set name = "kafka-ksqldb3" %}
      ipAddress: 10.10.10.73
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

    - {% set name = "kafka-ksqldb4" %}
      ipAddress: 10.10.10.74
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"

######################################################################

### control-center
controlCenter:
  common:
    stopScript:
      file:
        stop: stop-control-center.sh
    param:
      dataDir: /mnt/control-center/data
      logDir: /mnt/control-center/logs
      bootstrapServers: kafka1:9092,kafka2:9092,kafka3:9092
      zookeeperConnect: zookeeper1:2181,zookeeper2:2181,zookeeper3:2181/testcluster
      schemaRegistryUrl: http://schema-registry1:8081,http://schema-registry2:8081
      kafkaConnectUrl: http://kafka-connect1:8083,http://kafka-connect2:8083
      kafkaRestUrl: http://kafka-rest1:8090,http://kafka-rest2:8090
      ksqlDBUrl: http://ksqldb1:8088,http://ksqldb2:8088,http://ksqldb3:8088,http://ksqldb4:8088

  servers:
    - {% set name = "control-center1" %}
      ipAddress: 10.10.10.81
      hostName: "{{ name }}"
      serverName: "{{ name }}"
      serverId: 1
      # paramOverride:
      file:
        properties: "{{ name }}.properties"
        start: "start-{{ name }}.sh"
        stop: "stop-{{ name }}.sh"
        log: "log-{{ name }}.sh"
